<div class="bg-superior" style="height: 10px"></div>
<nav class="navbar navbar-expand-lg sticky-top bg-header">
  <div class="container">
    <a class="navbar-nav mb-0" routerLink="/login">
      <img
        src="assets/img/logo/logo-dm.png"
        alt="Logo"
        width="200"
        class="img-fluid"
      />
    </a>
  </div>
</nav>

<div class="container my-3 my-md-5">
  <div class="shadow-lg bg-white px-4 py-2 pt-md-5 px-lg-5 rounded">
    <h5 class="mb-5 text-center txt text-primary">REGISTRARSE</h5>
    <form class="mb-3" [formGroup]="formulario" (ngSubmit)="save()">
      <div class="row g-3">
        <div class="col-12 col-md-4">
          <label for="nombre" class="form-label">Nombre*</label>
          <input
            type="text"
            class="form-control {{
              formulario.get('nombre')?.errors && verErrorsInputs
                ? 'is-invalid'
                : ''
            }}"
            formControlName="nombre"
            id="nombre"
          />
          <div
            class="invalid-feedback"
            *ngIf="formulario.get('nombre')?.errors"
          >
            <span
              class="d-block"
              *ngIf="formulario.get('nombre')?.hasError('maxlength')"
            >
              Máximo 23 caracteres
            </span>
            <span
              class="d-block"
              *ngIf="formulario.get('nombre')?.hasError('required')"
            >
              Campo obligatorio
            </span>
          </div>
        </div>
        <div class="col-12 col-md-4">
          <label for="apellido" class="form-label">Apellido*</label>
          <input
            type="text"
            class="form-control {{
              formulario.get('apellido')?.errors && verErrorsInputs
                ? 'is-invalid'
                : ''
            }}"
            formControlName="apellido"
            id="apellido"
          />
          <div
            class="invalid-feedback"
            *ngIf="formulario.get('apellido')?.errors"
          >
            <span
              class="d-block"
              *ngIf="formulario.get('apellido')?.hasError('maxlength')"
            >
              Máximo 23 caracteres
            </span>
            <span
              class="d-block"
              *ngIf="formulario.get('apellido')?.hasError('required')"
            >
              Campo obligatorio
            </span>
          </div>
        </div>
        <div class="col-12 col-md-4">
          <label for="correo" class="form-label">Correo electrónico*</label>
          <input
            type="email"
            class="form-control {{
              formulario.get('correo')?.errors && verErrorsInputs
                ? 'is-invalid'
                : ''
            }}"
            formControlName="correo"
            id="correo"
          />
          <div
            class="invalid-feedback"
            *ngIf="formulario.get('correo')?.errors"
          >
            <span
              class="d-block"
              *ngIf="formulario.get('correo')?.hasError('maxlength')"
            >
              Máximo 60 caracteres
            </span>
            <span
              class="d-block"
              *ngIf="formulario.get('correo')?.hasError('required')"
            >
              Campo obligatorio
            </span>
            <span
              class="d-block"
              *ngIf="formulario.get('correo')?.hasError('email')"
            >
              Correo incorrecto
            </span>
          </div>
        </div>
        <div class="col-12 col-md-4">
          <label for="contrasena" class="form-label">Contraseña*</label>
          <div class="input-group">
            <input
              class="form-control {{
                formulario.get('contrasena')?.errors && verErrorsInputs
                  ? 'is-invalid'
                  : ''
              }}"
              type="{{ verPassword ? 'text' : 'password' }}"
              formControlName="contrasena"
              id="contrasena"
            />
            <span
              class="toggle-password {{
                formulario.get('contrasena')?.errors && numClicksSave > 0
                  ? 'error'
                  : ''
              }}"
              (click)="togglePassword()"
            >
              <i class="fas fa-eye" *ngIf="!verPassword"></i>
              <i class="fas fa-eye-slash" *ngIf="verPassword"></i>
            </span>
            <div
              class="invalid-feedback"
              *ngIf="formulario.get('contrasena')?.errors"
            >
              <span *ngIf="formulario.get('contrasena')?.hasError('maxlength')"
                >Máximo 60 caracteres</span
              >
              <span *ngIf="formulario.get('contrasena')?.hasError('required')"
                >Campo obligatorio</span
              >
            </div>
          </div>
        </div>
        <div class="col-12 col-md-4">
          <label for="celular" class="form-label">Celular</label>
          <input
            type="text"
            class="form-control {{
              formulario.get('celular')?.errors && verErrorsInputs
                ? 'is-invalid'
                : ''
            }}"
            formControlName="celular"
            id="celular"
          />
          <div
            class="invalid-feedback"
            *ngIf="formulario.get('celular')?.errors"
          >
            <span *ngIf="formulario.get('celular')?.hasError('maxlength')"
              >Máximo 15 caracteres</span
            >
            <span *ngIf="formulario.get('celular')?.hasError('minlength')"
              >Minimo 10 caracteres</span
            >
          </div>
        </div>
        <div class="col-12 col-md-4">
          <label for="pais" class="form-label">Pais</label>
          <select class="form-select" id="pais">
            <option value="">Seleccione...</option>
          </select>
        </div>
        <div class="col-12 col-md-4">
          <label for="ciudad" class="form-label">Ciudad</label>
          <select class="form-select" id="ciudad">
            <option value="">Seleccione...</option>
          </select>
        </div>
        <div class="col-12 col-md-4">
          <label for="empresa" class="form-label">Empresa</label>
          <select class="form-select" id="empresa">
            <option value="">Seleccione...</option>
          </select>
        </div>
        <div class="col-12 col-md-4">
          <label for="area" class="form-label">Area</label>
          <select class="form-select" id="area">
            <option value="">Seleccione...</option>
          </select>
        </div>
        <div class="col-12">
          <label for="foto" class="form-label">Foto</label>
          <input
            type="file"
            class="form-control"
            id="foto"
            accept=".jpg, .jpeg, .png"
            (change)="onFileSelected($event)"
          />
          <div class="invalid-feedback">Error</div>
        </div>
        <div class="col-12 text-center text-md-start">
          <img
            *ngIf="!selectedFoto"
            src="assets/img/default/default-user.jpg"
            class="img-thumbnail"
            width="130"
            alt="usuario"
          />
          <img
            *ngIf="selectedFoto"
            [src]="previewFoto"
            class="img-thumbnail"
            width="130"
            alt="usuario"
          />
        </div>
        <div class="col-12 mt-4 text-end d-grid d-md-block">
          <button type="submit" class="btn btn-success">
            Guardar<i class="fa-regular fa-floppy-disk ms-2"></i>
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
